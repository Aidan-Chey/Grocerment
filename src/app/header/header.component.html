<mat-toolbar id="main-footer" role="heading">
  <ng-container *ngIf="(authService.user$ | async); else noLoggedIn">
    <span id="header-title">{{pageTitle$ | async}}</span>
    <span class="spacer"></span>
    <app-filter 
      *ngIf="!!(filterService.filterable$ | async)" 
      (filter)="filterService.filterTerm = $event"
    ></app-filter>
    <button mat-mini-fab 
      color="primary" 
      id="header-menu" 
      [matMenuTriggerFor]="menu" 
      aria-label="Opens an extra menu of actions and navigation"
      matTooltip="Navigation menu"
    >
      <mat-icon svgIcon="menu"></mat-icon>
    </button>
  </ng-container>
</mat-toolbar>
<mat-menu #menu="matMenu" yPosition="above">
  <button mat-menu-item (click)="authService.signOut()">
    <mat-icon svgIcon="person"></mat-icon>
    <span>logout</span>
  </button>
  <ng-container *ngIf="(pagePath$ | async) as pagePath">
    <button mat-menu-item 
      routerLink="have"
      aria-label="Navigate to the page of items you have"
      matTooltip="Items you already have"
      [ngClass]="{ 'active': pagePath === 'have' }"
    >
      <mat-icon svgIcon="have"></mat-icon>
      <span>I Have...</span>
    </button>
    <button mat-menu-item 
      routerLink="need" 
      [ngClass]="{ 'active': pagePath === 'need' }"
      aria-label="Navigate to the page of items you need"
      matTooltip="Items you don't have and need"
    >
      <mat-icon svgIcon="need"></mat-icon>
      <span>I Need...</span>
    </button>
  </ng-container>
</mat-menu>
<ng-template #noLoggedIn>
  <span id="header-title">Please login to continue</span>
</ng-template>
