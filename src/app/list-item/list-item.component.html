<ng-content></ng-content>
<div class="name">{{item?.name || 'No item name'}}</div>
<div *ngIf="!!item?.measurement && !!item?.amount">
    <span *ngIf="!!item?.estimated">~</span>
    <span>{{item.amount}}</span>
    <ng-container *ngIf="!!item.measurement">
        <ng-container *ngIf="(item.measurement | getMeasurement | async) as measurement" >
            <span [matTooltip]="(measurement.name | titlecase) || 'No measurement name'">{{measurement?.unit || 'No measurement unit'}}</span>
        </ng-container>
    </ng-container>
</div>
<div>
    <span>x</span>
    <span>{{item?.quantity || 1}}</span>
    <button mat-icon-button
        matTooltip="item options" 
        [matMenuTriggerFor]="itemMenu" 
        aria-label="Reveal additional options related to the item"
        class="options"
    >
        <mat-icon color="accent" svgIcon="options"></mat-icon>
    </button>
    <mat-menu #itemMenu="matMenu">
        <button mat-menu-item
            (click)="toggleObtained(item)"  
            matTooltip="Switch the item between 'have' & 'need' state"
        >
            <mat-icon svgIcon="edit"></mat-icon><span>Toggle Obtained</span>
        </button>
        <button mat-menu-item
            (click)="openEditDialog(item)"  
            aria-label="Open a dialog for the item with editable fields"
        >
            <mat-icon svgIcon="edit"></mat-icon><span>Edit Item</span>
        </button>
        <button mat-menu-item
            (click)="deleteItem(item)"
        >
            <mat-icon svgIcon="trash"></mat-icon><span>Remove Item</span>
        </button>
    </mat-menu>
</div>
