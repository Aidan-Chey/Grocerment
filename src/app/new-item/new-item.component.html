<form [formGroup]="itemGroup">
  <mat-list>
    <!-- Name Field -->
    <mat-list-item>
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input type="text"
               matInput
               formControlName="name"
               [matAutocomplete]="autoNames">
        <mat-autocomplete #autoNames="matAutocomplete">
          <mat-option *ngFor="let option of (filteredNameOptions$ | async)"
                      [value]="option"
          >{{option}}</mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </mat-list-item>
    <!-- Category Field -->
    <mat-list-item>
      <mat-form-field>
        <mat-label>Category</mat-label>
        <input type="text"
               matInput
               formControlName="category"
               [matAutocomplete]="autoCategories">
        <mat-autocomplete #autoCategories="matAutocomplete">
          <mat-option *ngFor="let option of (filteredCategoryOptions$ | async)"
                      [value]="option"
          >{{option}}</mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </mat-list-item>
    <!-- Measurement Field -->
    <mat-list-item>
      <mat-form-field>
        <mat-label>Measurement</mat-label>
        <mat-select 
               matInput
               formControlName="measurement">
          <ng-container *ngFor="let measurement of (measurements$ | async)">
            <ng-container [ngSwitch]="!!measurement.id">
              <mat-option *ngSwitchCase="true" [value]="measurement.id">{{ measurement.name | titlecase }} ({{ measurement.unit }})</mat-option>
              <mat-option *ngSwitchCase="false" [value]="null">None</mat-option>
            </ng-container>
          </ng-container>
        </mat-select>
      </mat-form-field>
    </mat-list-item>
    <!-- Quantity Field -->
    <mat-list-item>
      <mat-form-field>
        <mat-label>Quantity</mat-label>
        <input type="number"
               min="0"
               step="0.01"
               matInput
               formControlName="quantity">
      </mat-form-field>
    </mat-list-item>
    <!-- Count Field -->
    <mat-list-item>
      <mat-form-field>
        <mat-label>Count</mat-label>
        <input type="number"
               min="1"
               step="1"
               matInput
               formControlName="count">
      </mat-form-field>
    </mat-list-item>
    <mat-list-item>
      <button mat-raised-button
        color="accent"
        type="submit"
      >Create</button>
    </mat-list-item>
  </mat-list>

</form>
